<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Javascript VideoBuilder</title>
        <link rel="stylesheet" type="text/css" href="mj.css"></link>

        <script src="js/zepto.min.js" type="text/javascript"></script>
        <script src="js/main.js" type="text/javascript"></script>

        <script src="../video-builder.js" type="text/javascript"></script>
        <script src="../base64.js" type="text/javascript"></script>

        <script src="js/box2d/prototype-1.6.0.2.js"></script>
        <script src="js/box2d/common/b2Settings.js"></script>
        <script src="js/box2d/common/math/b2Vec2.js"></script>
        <script src="js/box2d/common/math/b2Mat22.js"></script>
        <script src="js/box2d/common/math/b2Math.js"></script>
        <script src="js/box2d/collision/box2d-collision.combined.js"></script>
        <script src="js/box2d/collision/shapes/box2d-shapes.combined.js"></script>
        <script src="js/box2d/dynamics/b2Body.js"></script>
        <script src="js/box2d/dynamics/b2BodyDef.js"></script>
        <script src="js/box2d/dynamics/b2CollisionFilter.js"></script>
        <script src="js/box2d/dynamics/b2Island.js"></script>
        <script src="js/box2d/dynamics/b2TimeStep.js"></script>
        <script src="js/box2d/dynamics/contacts/box2d-contacts.combined.js"></script>
        <script src="js/box2d/dynamics/b2ContactManager.js"></script>
        <script src="js/box2d/dynamics/b2World.js"></script>
        <script src="js/box2d/dynamics/b2WorldListener.js"></script>
        <script src="js/box2d/dynamics/joints/box2d-joints.combined.js"></script>


    </head>
    <body onload="void launch()">
        <h1>Javascript VideoBuilder</h1>
        <div id="main-content">
            <p><img alt="[AVI generator]" src="images/mj-thumb.jpg
"><br><br><a href="../video-builder.js">Javascript VideoBuilder</a> enables you to save your canvas animation into a single avi file using MotionJPEG codec</p>
            <ul>
                <li>For artists: Spread your work on vimeo, youtube...</li>
                <li>For researchers: You can distribute visualization results.</li>
            </ul>
            <p>MotionJPEG is suitable for clip on movie authoring tool because it's almost &ldquo;raw&rdquo; format. Please recompress if you want to distribute without compilation.</p>
            <h2>Quick Start</h2>
<p>At first, generate VideoBuilder and setup.</p>
            <pre>
var builder = new VideoBuilder({
    width  : 640,
    height : 360,
    fps    : 30
});</pre>
            <p>Next, add frames.</p>
            <pre>
draw();
builder.addCanvasFrame(canvas);

draw();
builder.addCanvasFrame(canvas);

draw();
builder.addCanvasFrame(canvas);

 :
 :
 :</pre>
            <p>And then, finish to get URL for generated content.</p>
            <pre>
builder.finish(function(generatedURL) {
    let a = document.createElement("a");
    document.body.appendChild(a);
    a.style.display = 'none';
    a.href = generatedURL;
    a.download = 'video.avi';
    a.click();
});</pre>

            <div id="mj-gentest">
                <h2>Demonstration (Chrome/Firefox)</h2>
                <canvas id="cv1"></canvas><br>
                Input: <input value="MOVIE" type="text" id="board-text" maxLength="6" size="8"><br>
                <button id="btn-preview">Preview</button> <button id="btn-generate">Generate</button>
                <a id="gen-download" download="generated.avi">Download</a>
            </div>
        </div>
    </body>
</html>
